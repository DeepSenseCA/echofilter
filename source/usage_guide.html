
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Usage Guide &#8212; Echofilter 1.0.dev0 documentation</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" href="../_static/styles/sphinx-book-theme.css?digest=62ba249389abaaa9ffc34bf36a076bdc1d65ee18" type="text/css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=f31d14ad54b65d19161ba51d4ffff3a77ae00456"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="CLI Reference" href="programs/programs.html" />
    <link rel="prev" title="Echofilter documentation" href="../index.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
      
      
      <h1 class="site-logo" id="site-title">Echofilter 1.0.dev0 documentation</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Contents:
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Usage Guide
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="programs/programs.html">
   CLI Reference
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="programs/inference.html">
     echofilter
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="programs/ev2csv.html">
     ev2csv
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="programs/train.html">
     echofilter-train
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="programs/generate_shards.html">
     echofilter-generate-shards
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="packages/modules.html">
   API Reference
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="packages/echofilter.html">
     echofilter package
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
    <label for="toctree-checkbox-3">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="packages/echofilter.data.html">
       echofilter.data package
      </a>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="packages/echofilter.nn.html">
       echofilter.nn package
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
      <label for="toctree-checkbox-4">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="packages/echofilter.nn.modules.html">
         echofilter.nn.modules package
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="packages/echofilter.optim.html">
       echofilter.optim package
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="packages/echofilter.raw.html">
       echofilter.raw package
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="packages/echofilter.ui.html">
       echofilter.ui package
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="packages/echofilter.win.html">
       echofilter.win package
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="changelog.html">
   Changelog
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../py-modindex.html">
   Module Index
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../genindex.html">
   Index
  </a>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Theme by the <a href="https://ebp.jupyterbook.org">Executable Book Project</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="../_sources/source/usage_guide.rst.txt"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.rst</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#introduction">
   Introduction
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#disclaimers">
     Disclaimers
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#glossary">
   Glossary
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#inference-operations">
   Inference operations
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#processing-overview">
     Processing overview
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#simulating-processing">
     Simulating processing
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#input">
     Input
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#loading-model">
     Loading model
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#output">
     Output
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#output-files">
       Output files
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#importing-outputs-into-ev-file">
       Importing outputs into EV file
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#installation">
   Installation
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#installing-as-an-executable-file">
     Installing as an executable file
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#quick-start">
   Quick Start
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#recommended-first-time-usage">
     Recommended first time usage
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#example-commands">
     Example commands
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#argument-documentation">
     Argument documentation
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#actions">
     Actions
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#help">
       help
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#version">
       version
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#list-checkpoints">
       list checkpoints
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#list-colours">
       list colours
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#command-line-interface-primer">
   Command line interface primer
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#spaces-in-file-names">
     Spaces in file names
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#trailing-backslash">
     Trailing backslash
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#argument-types">
     Argument types
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#pre-trained-models">
   Pre-trained models
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#training-datasets">
     Training Datasets
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#stationary">
       Stationary
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#mobile">
       Mobile
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#model-checkpoints">
     Model checkpoints
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#issues">
   Issues
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#known-issues">
     Known issues
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#troubleshooting">
     Troubleshooting
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#reporting-an-issue">
     Reporting an issue
    </a>
   </li>
  </ul>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Usage Guide</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#introduction">
   Introduction
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#disclaimers">
     Disclaimers
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#glossary">
   Glossary
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#inference-operations">
   Inference operations
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#processing-overview">
     Processing overview
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#simulating-processing">
     Simulating processing
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#input">
     Input
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#loading-model">
     Loading model
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#output">
     Output
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#output-files">
       Output files
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#importing-outputs-into-ev-file">
       Importing outputs into EV file
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#installation">
   Installation
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#installing-as-an-executable-file">
     Installing as an executable file
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#quick-start">
   Quick Start
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#recommended-first-time-usage">
     Recommended first time usage
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#example-commands">
     Example commands
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#argument-documentation">
     Argument documentation
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#actions">
     Actions
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#help">
       help
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#version">
       version
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#list-checkpoints">
       list checkpoints
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#list-colours">
       list colours
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#command-line-interface-primer">
   Command line interface primer
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#spaces-in-file-names">
     Spaces in file names
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#trailing-backslash">
     Trailing backslash
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#argument-types">
     Argument types
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#pre-trained-models">
   Pre-trained models
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#training-datasets">
     Training Datasets
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#stationary">
       Stationary
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#mobile">
       Mobile
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#model-checkpoints">
     Model checkpoints
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#issues">
   Issues
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#known-issues">
     Known issues
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#troubleshooting">
     Troubleshooting
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#reporting-an-issue">
     Reporting an issue
    </a>
   </li>
  </ul>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <div class="section" id="usage-guide">
<h1>Usage Guide<a class="headerlink" href="#usage-guide" title="Permalink to this headline">#</a></h1>
<dl class="simple">
<dt>Authors</dt><dd><p>Scott C. Lowe, Louise McGarry</p>
</dd>
</dl>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">#</a></h2>
<p><a class="reference internal" href="#term-Echofilter"><span class="xref std std-term">Echofilter</span></a> is an application for segmenting an echogram. It takes as
its input an <a class="reference internal" href="#term-Echoview"><span class="xref std std-term">Echoview</span></a> .EV file, and produces as its output several
lines and regions:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#term-Turbulence-line"><span class="xref std std-term">turbulence</span></a> (<a class="reference internal" href="#term-Entrained-air"><span class="xref std std-term">entrained air</span></a>) line</p></li>
<li><p><a class="reference internal" href="#term-Bottom-line"><span class="xref std std-term">bottom (seafloor) line</span></a></p></li>
<li><p><a class="reference internal" href="#term-Surface-line"><span class="xref std std-term">surface line</span></a></p></li>
<li><p><a class="reference internal" href="#term-Nearfield-line"><span class="xref std std-term">nearfield line</span></a></p></li>
<li><p><a class="reference internal" href="#term-Passive-data"><span class="xref std std-term">passive data</span></a> regions</p></li>
<li><p>*bad data regions for entirely removed periods of time, in the form
of boxes covering the entire vertical depth</p></li>
<li><p>*bad data regions for localised anomalies, in the form of polygonal
contour patches</p></li>
</ul>
<p><a class="reference internal" href="#term-Echofilter"><span class="xref std std-term">Echofilter</span></a> uses a <a class="reference internal" href="#term-Machine-learning-ML"><span class="xref std std-term">machine learning</span></a>
<a class="reference internal" href="#term-Model"><span class="xref std std-term">model</span></a> to complete this task. The machine learning model was trained on
<a class="reference internal" href="#term-Upfacing"><span class="xref std std-term">upfacing</span></a> <a class="reference internal" href="#term-Stationary"><span class="xref std std-term">stationary</span></a> and <a class="reference internal" href="#term-Downfacing"><span class="xref std std-term">downfacing</span></a> <a class="reference internal" href="#term-Mobile"><span class="xref std std-term">mobile</span></a> data
provided by Fundy Ocean Research Centre for Energy
(<a class="reference external" href="http://fundyforce.ca">FORCE</a>.).</p>
<div class="section" id="disclaimers">
<h3>Disclaimers<a class="headerlink" href="#disclaimers" title="Permalink to this headline">#</a></h3>
<ul class="simple">
<li><p>The <a class="reference internal" href="#term-Model"><span class="xref std std-term">model</span></a> is only confirmed to work reliably with <a class="reference internal" href="#term-Upfacing"><span class="xref std std-term">upfacing</span></a>
data recorded at the same location and with the same instrumentation as
the data it was trained on. It is expected to work well on a wider
range of data, but this has not been confirmed. Even on data similar
to the <a class="reference internal" href="#term-Training-data"><span class="xref std std-term">training data</span></a>, the <a class="reference internal" href="#term-Model"><span class="xref std std-term">model</span></a> is not perfect and it is
recommended that a human analyst manually inspects the results it generates
to confirm they are correct.</p></li>
<li><p>* <a class="reference internal" href="#term-Bad-data-regions"><span class="xref std std-term">Bad data regions</span></a> are particularly challenging for the
<a class="reference internal" href="#term-Model"><span class="xref std std-term">model</span></a> to generate. Consequently, the bad data region outputs are
not reliable and should be considered experimental. By default, these
outputs are disabled.</p></li>
<li><p>Integration with <a class="reference internal" href="#term-Echoview"><span class="xref std std-term">Echoview</span></a> was tested for Echoview 10 and 11.</p></li>
</ul>
</div>
</div>
<div class="section" id="glossary">
<h2>Glossary<a class="headerlink" href="#glossary" title="Permalink to this headline">#</a></h2>
<dl class="glossary simple">
<dt id="term-Active-data">Active data<a class="headerlink" href="#term-Active-data" title="Permalink to this term">#</a></dt><dd><p>Data collected while the <a class="reference internal" href="#term-Echosounder"><span class="xref std std-term">echosounder</span></a> is emitting sonar pulses
(“<a class="reference internal" href="#term-Ping"><span class="xref std std-term">pings</span></a>”) at regular intervals. This is the normal
operating mode for data in this project.</p>
</dd>
<dt id="term-Algorithm">Algorithm<a class="headerlink" href="#term-Algorithm" title="Permalink to this term">#</a></dt><dd><p>A finite sequence of well-defined, unambiguous,
computer-implementable operations.</p>
</dd>
<dt id="term-Bad-data-regions">Bad data regions<a class="headerlink" href="#term-Bad-data-regions" title="Permalink to this term">#</a></dt><dd><p>Regions of data which must be excluded from analysis in their entirety.
Bad data regions identified by <a class="reference internal" href="programs/inference.html#echofilter-cli"><span class="std std-ref">echofilter</span></a> come
in two forms: rectangular regions covering the full depth-extend of the
echogram for a period of time, and polygonal or contour regions
encompassing a localised area.</p>
</dd>
<dt id="term-Bottom-line">Bottom line<a class="headerlink" href="#term-Bottom-line" title="Permalink to this term">#</a></dt><dd><p>A line separating the seafloor from the <a class="reference internal" href="#term-Water-column"><span class="xref std std-term">water column</span></a>.</p>
</dd>
<dt id="term-Checkpoint">Checkpoint<a class="headerlink" href="#term-Checkpoint" title="Permalink to this term">#</a></dt><dd><p>A checkpoint file defines the weights for a particular
<a class="reference internal" href="#term-Neural-network"><span class="xref std std-term">neural network</span></a> <a class="reference internal" href="#term-Model"><span class="xref std std-term">model</span></a>.</p>
</dd>
<dt id="term-Conditional-model">Conditional model<a class="headerlink" href="#term-Conditional-model" title="Permalink to this term">#</a></dt><dd><p>A <a class="reference internal" href="#term-Model"><span class="xref std std-term">model</span></a> which outputs conditional probabilities. In the context
of an <a class="reference internal" href="#term-Echofilter"><span class="xref std std-term">echofilter</span></a> model, the conditional probabilities are
<span class="math notranslate nohighlight">\(p(x|\text{upfacing})\)</span> and <span class="math notranslate nohighlight">\(p(x|\text{downfacing})\)</span>,
where <span class="math notranslate nohighlight">\(x\)</span> is any of the <a class="reference internal" href="#term-Model"><span class="xref std std-term">model</span></a> output
types; conditional models are necessarily hybrid models.</p>
</dd>
<dt id="term-CSV">CSV<a class="headerlink" href="#term-CSV" title="Permalink to this term">#</a></dt><dd><p>A comma-separated values file. The <a class="reference internal" href="#term-Sv"><span class="xref std std-term">Sv</span></a> data can be exported
into this format by <a class="reference internal" href="#term-Echoview"><span class="xref std std-term">Echoview</span></a>.</p>
</dd>
<dt id="term-Dataset">Dataset<a class="headerlink" href="#term-Dataset" title="Permalink to this term">#</a></dt><dd><p>A collection of data <a class="reference internal" href="#term-Sample-model-input"><span class="xref std std-term">samples</span></a>. In this
project, the datasets are <a class="reference internal" href="#term-Sv"><span class="xref std std-term">Sv</span></a> recordings from multiple surveys.</p>
</dd>
<dt id="term-Downfacing">Downfacing<a class="headerlink" href="#term-Downfacing" title="Permalink to this term">#</a></dt><dd><p>The orientation of an <a class="reference internal" href="#term-Echosounder"><span class="xref std std-term">echosounder</span></a> when it is located at the
surface and records from the <a class="reference internal" href="#term-Water-column"><span class="xref std std-term">water column</span></a> below it.</p>
</dd>
<dt id="term-Echofilter">Echofilter<a class="headerlink" href="#term-Echofilter" title="Permalink to this term">#</a></dt><dd><p>A software package for defining the placement of the boundary lines
and regions required to post-process <a class="reference internal" href="#term-Echosounder"><span class="xref std std-term">echosounder</span></a> data.
The topic of this usage guide.</p>
</dd>
<dt id="term-echofilter.exe">echofilter.exe<a class="headerlink" href="#term-echofilter.exe" title="Permalink to this term">#</a></dt><dd><p>The compiled <a class="reference internal" href="programs/inference.html#echofilter-cli"><span class="std std-ref">echofilter</span></a> program which can be
run on a Windows machine.</p>
</dd>
<dt id="term-Echogram">Echogram<a class="headerlink" href="#term-Echogram" title="Permalink to this term">#</a></dt><dd><p>The two-dimensional representation of a temporal series of
<a class="reference internal" href="#term-Echosounder"><span class="xref std std-term">echosounder</span></a>-collected data. Time is along the x-axis, and depth
along the y-axis. A common way of plotting <a class="reference internal" href="#term-Echosounder"><span class="xref std std-term">echosounder</span></a>
recordings.</p>
</dd>
<dt id="term-Echosounder">Echosounder<a class="headerlink" href="#term-Echosounder" title="Permalink to this term">#</a></dt><dd><p>An electronic system that includes a computer, transceiver, and
<a class="reference internal" href="#term-Transducer"><span class="xref std std-term">transducer</span></a>. The system emits sonar <a class="reference internal" href="#term-Ping"><span class="xref std std-term">pings</span></a> and
records the intensity of the reflected echos at some fixed sampling
rate.</p>
</dd>
<dt id="term-Echoview">Echoview<a class="headerlink" href="#term-Echoview" title="Permalink to this term">#</a></dt><dd><p>A Windows software application (<a class="reference external" href="https://www.echoview.com/">Echoview</a>
Software Pty Ltd, Tasmania, Australia) for hydroacoustic data
post-processing.</p>
</dd>
<dt id="term-Entrained-air">Entrained air<a class="headerlink" href="#term-Entrained-air" title="Permalink to this term">#</a></dt><dd><p>Bubbles of air which have been submerged into the ocean by waves or
by the strong <a class="reference internal" href="#term-Turbulence"><span class="xref std std-term">turbulence</span></a> commonly found in tidal energy
channels.</p>
</dd>
<dt id="term-EV-file">EV file<a class="headerlink" href="#term-EV-file" title="Permalink to this term">#</a></dt><dd><p>An <a class="reference internal" href="#term-Echoview"><span class="xref std std-term">Echoview</span></a> file bundling <a class="reference internal" href="#term-Sv"><span class="xref std std-term">Sv</span></a> data together with
associated lines and regions produced by processing.</p>
</dd>
<dt id="term-EVL">EVL<a class="headerlink" href="#term-EVL" title="Permalink to this term">#</a></dt><dd><p>The <a class="reference internal" href="#term-Echoview"><span class="xref std std-term">Echoview</span></a> line file format.</p>
</dd>
<dt id="term-EVR">EVR<a class="headerlink" href="#term-EVR" title="Permalink to this term">#</a></dt><dd><p>The <a class="reference internal" href="#term-Echoview"><span class="xref std std-term">Echoview</span></a> region file format.</p>
</dd>
<dt id="term-Inference">Inference<a class="headerlink" href="#term-Inference" title="Permalink to this term">#</a></dt><dd><p>The procedure of using a <a class="reference internal" href="#term-Model"><span class="xref std std-term">model</span></a> to generate output predictions
based on a particular input.</p>
</dd>
<dt id="term-Hybrid-model">Hybrid model<a class="headerlink" href="#term-Hybrid-model" title="Permalink to this term">#</a></dt><dd><p>A <a class="reference internal" href="#term-Model"><span class="xref std std-term">model</span></a> which has been trained on both <a class="reference internal" href="#term-Downfacing"><span class="xref std std-term">downfacing</span></a> and
<a class="reference internal" href="#term-Upfacing"><span class="xref std std-term">upfacing</span></a> data.</p>
</dd>
<dt id="term-Machine-learning-ML">Machine learning (ML)<a class="headerlink" href="#term-Machine-learning-ML" title="Permalink to this term">#</a></dt><dd><p>The process by which an <a class="reference internal" href="#term-Algorithm"><span class="xref std std-term">algorithm</span></a> builds a mathematical model
based on <a class="reference internal" href="#term-Sample-model-input"><span class="xref std std-term">sample</span></a> data
(“<a class="reference internal" href="#term-Training-data"><span class="xref std std-term">training data</span></a>”), in order to make predictions or decisions
without being explicitly programmed to do so. A subset of the field of
Artificial Intelligence.</p>
</dd>
<dt id="term-Mobile">Mobile<a class="headerlink" href="#term-Mobile" title="Permalink to this term">#</a></dt><dd><p>A mobile <a class="reference internal" href="#term-Echosounder"><span class="xref std std-term">echosounder</span></a> is one which is moving (relative to the
ocean floor) during its period of operation.</p>
</dd>
<dt id="term-Model">Model<a class="headerlink" href="#term-Model" title="Permalink to this term">#</a></dt><dd><p>A mathematical model of a particular type of data. In our context,
the model understands an echogram-like input
<a class="reference internal" href="#term-Sample-model-input"><span class="xref std std-term">sample</span></a> of <a class="reference internal" href="#term-Sv"><span class="xref std std-term">Sv</span></a> data
(which is its input) and outputs a probability distribution for
where it predicts the <a class="reference internal" href="#term-Turbulence"><span class="xref std std-term">turbulence</span></a> (<a class="reference internal" href="#term-Entrained-air"><span class="xref std std-term">entrained air</span></a>)
boundary, <a class="reference internal" href="#term-Bottom-line"><span class="xref std std-term">bottom boundary</span></a>, and
<a class="reference internal" href="#term-Surface-line"><span class="xref std std-term">surface boundary</span></a> to be located, and the
probability of <a class="reference internal" href="#term-Passive-data"><span class="xref std std-term">passive</span></a> periods and
<a class="reference internal" href="#term-Bad-data-regions"><span class="xref std std-term">bad data</span></a>.</p>
</dd>
<dt id="term-Nearfield">Nearfield<a class="headerlink" href="#term-Nearfield" title="Permalink to this term">#</a></dt><dd><p>The region of space too close to the <a class="reference internal" href="#term-Echosounder"><span class="xref std std-term">echosounder</span></a> to collect
viable data.</p>
</dd>
<dt id="term-Nearfield-distance">Nearfield distance<a class="headerlink" href="#term-Nearfield-distance" title="Permalink to this term">#</a></dt><dd><p>The maximum distance which is too close to the <a class="reference internal" href="#term-Echosounder"><span class="xref std std-term">echosounder</span></a> to
be viable for data collection.</p>
</dd>
<dt id="term-Nearfield-line">Nearfield line<a class="headerlink" href="#term-Nearfield-line" title="Permalink to this term">#</a></dt><dd><p>A line placed at the <a class="reference internal" href="#term-Nearfield-distance"><span class="xref std std-term">nearfield distance</span></a>.</p>
</dd>
<dt id="term-Neural-network">Neural network<a class="headerlink" href="#term-Neural-network" title="Permalink to this term">#</a></dt><dd><p>An artificial neural network contains layers of interconnected
neurons with weights between them. The weights are learned through a
<a class="reference internal" href="#term-Machine-learning-ML"><span class="xref std std-term">machine learning</span></a> process. After
<a class="reference internal" href="#term-Training"><span class="xref std std-term">training</span></a>, the network is a <a class="reference internal" href="#term-Model"><span class="xref std std-term">model</span></a> mapping inputs to
outputs.</p>
</dd>
<dt id="term-Passive-data">Passive data<a class="headerlink" href="#term-Passive-data" title="Permalink to this term">#</a></dt><dd><p>Data collected while the <a class="reference internal" href="#term-Echosounder"><span class="xref std std-term">echosounder</span></a> is silent. Since the sonar
pulses are not being generated, only ambient sounds are collected.
This package is designed for analysing <a class="reference internal" href="#term-Active-data"><span class="xref std std-term">active data</span></a>, and hence
<a class="reference internal" href="#term-Passive-data"><span class="xref std std-term">passive data</span></a> is marked for removal.</p>
</dd>
<dt id="term-Ping">Ping<a class="headerlink" href="#term-Ping" title="Permalink to this term">#</a></dt><dd><p>An <a class="reference internal" href="#term-Echosounder"><span class="xref std std-term">echosounder</span></a> sonar pulse event.</p>
</dd>
<dt id="term-Sample-model-input">Sample (model input)<a class="headerlink" href="#term-Sample-model-input" title="Permalink to this term">#</a></dt><dd><p>A single echogram-like matrix of <a class="reference internal" href="#term-Sv"><span class="xref std std-term">Sv</span></a> values.</p>
</dd>
<dt id="term-Sample-ping">Sample (ping)<a class="headerlink" href="#term-Sample-ping" title="Permalink to this term">#</a></dt><dd><p>A single datapoint recorded at a certain temporal latency in response
to a particular <a class="reference internal" href="#term-Ping"><span class="xref std std-term">ping</span></a>.</p>
</dd>
<dt id="term-Stationary">Stationary<a class="headerlink" href="#term-Stationary" title="Permalink to this term">#</a></dt><dd><p>A stationary <a class="reference internal" href="#term-Echosounder"><span class="xref std std-term">echosounder</span></a> is at a fixed location (relative to
the ocean floor) during its period of operation.</p>
</dd>
<dt id="term-Surface-line">Surface line<a class="headerlink" href="#term-Surface-line" title="Permalink to this term">#</a></dt><dd><p>Separates atmosphere and water at the ocean surface.</p>
</dd>
<dt id="term-Sv">Sv<a class="headerlink" href="#term-Sv" title="Permalink to this term">#</a></dt><dd><p>The volume backscattering strength.</p>
</dd>
<dt id="term-Test-set">Test set<a class="headerlink" href="#term-Test-set" title="Permalink to this term">#</a></dt><dd><p>Data which was used to evaluate the ability of the <a class="reference internal" href="#term-Model"><span class="xref std std-term">model</span></a> to
generalise to novel, unseen data.</p>
</dd>
<dt id="term-Training">Training<a class="headerlink" href="#term-Training" title="Permalink to this term">#</a></dt><dd><p>The process by which a <a class="reference internal" href="#term-Model"><span class="xref std std-term">model</span></a> is iteratively improved.</p>
</dd>
<dt id="term-Training-data">Training data<a class="headerlink" href="#term-Training-data" title="Permalink to this term">#</a></dt><dd><p>Data which was used to train the <a class="reference internal" href="#term-Model"><span class="xref std std-term">model(s)</span></a>.</p>
</dd>
<dt id="term-Training-set">Training set<a class="headerlink" href="#term-Training-set" title="Permalink to this term">#</a></dt><dd><p>A subset (partition) of the <a class="reference internal" href="#term-Dataset"><span class="xref std std-term">dataset</span></a> which was used to train
the <a class="reference internal" href="#term-Model"><span class="xref std std-term">model</span></a>.</p>
</dd>
<dt id="term-Transducer">Transducer<a class="headerlink" href="#term-Transducer" title="Permalink to this term">#</a></dt><dd><p>An underwater electronic device that converts electrical energy to
sound pressure energy. The emitted sound pulse is called a
“<a class="reference internal" href="#term-Ping"><span class="xref std std-term">ping</span></a>”. The device converts the returning sound pressure
energy to electrical energy, which is then recorded.</p>
</dd>
<dt id="term-Turbulence">Turbulence<a class="headerlink" href="#term-Turbulence" title="Permalink to this term">#</a></dt><dd><p>In contrast to laminar flow, fluid motion in turbulent regions are
characterized by chaotic fluctuations in flow speed and direction.
Air is often entrained into the <a class="reference internal" href="#term-Water-column"><span class="xref std std-term">water column</span></a> in regions of
strong turbulence.</p>
</dd>
<dt id="term-Turbulence-line">Turbulence line<a class="headerlink" href="#term-Turbulence-line" title="Permalink to this term">#</a></dt><dd><p>A line demarcating the depth of the end-boundary of air entrained
into the <a class="reference internal" href="#term-Water-column"><span class="xref std std-term">water column</span></a> by <a class="reference internal" href="#term-Turbulence"><span class="xref std std-term">turbulence</span></a> at the sea
surface.</p>
</dd>
<dt id="term-Upfacing">Upfacing<a class="headerlink" href="#term-Upfacing" title="Permalink to this term">#</a></dt><dd><p>The orientation of an <a class="reference internal" href="#term-Echosounder"><span class="xref std std-term">echosounder</span></a> when it is located at the
seabed and records from the <a class="reference internal" href="#term-Water-column"><span class="xref std std-term">water column</span></a> above it.</p>
</dd>
<dt id="term-Validation-set">Validation set<a class="headerlink" href="#term-Validation-set" title="Permalink to this term">#</a></dt><dd><p>Data which was used during the <a class="reference internal" href="#term-Training"><span class="xref std std-term">training</span></a> process to evaluate the
ability of the <a class="reference internal" href="#term-Model"><span class="xref std std-term">model</span></a> to generalise to novel, unseen data.</p>
</dd>
<dt id="term-Water-column">Water column<a class="headerlink" href="#term-Water-column" title="Permalink to this term">#</a></dt><dd><p>The body of water between seafloor and ocean surface.</p>
</dd>
</dl>
</div>
<div class="section" id="inference-operations">
<h2>Inference operations<a class="headerlink" href="#inference-operations" title="Permalink to this headline">#</a></h2>
<p>In this section, we describe the <a class="reference internal" href="#term-Inference"><span class="xref std std-term">inference</span></a> process, its outputs and
inputs. Inference is the process of generating predictions from the
<a class="reference internal" href="#term-Model"><span class="xref std std-term">model</span></a>, and is the principal functionality of
<a class="reference internal" href="programs/inference.html#echofilter-cli"><span class="std std-ref">echofilter</span></a>.</p>
<div class="section" id="processing-overview">
<h3>Processing overview<a class="headerlink" href="#processing-overview" title="Permalink to this headline">#</a></h3>
<p>This is an overview of how files are processed in the <a class="reference internal" href="#term-Inference"><span class="xref std std-term">inference</span></a>
pipeline.</p>
<p>First, the setup:</p>
<ul class="simple">
<li><p>If a directory input was given, determine list of files to process.</p></li>
<li><p>Download the model <a class="reference internal" href="#term-Checkpoint"><span class="xref std std-term">checkpoint</span></a>, if necessary.</p></li>
<li><p>Load the <a class="reference internal" href="#term-Model"><span class="xref std std-term">model</span></a> from the <a class="reference internal" href="#term-Checkpoint"><span class="xref std std-term">checkpoint</span></a> into memory.</p></li>
<li><p>If any file to process is an <a class="reference internal" href="#term-EV-file"><span class="xref std std-term">EV file</span></a>, open <a class="reference internal" href="#term-Echoview"><span class="xref std std-term">Echoview</span></a>.</p></li>
<li><p>If it was not already open, hide the Echoview window.</p></li>
</ul>
<p>After the <a class="reference internal" href="#term-Model"><span class="xref std std-term">model</span></a> is loaded from its checkpoint, each file is processed
in turn. The processing time for an individual file scales linearly with
the number of <a class="reference internal" href="#term-Ping"><span class="xref std std-term">pings</span></a> in the file (twice as many pings = twice as
long to process).</p>
<p>Each file is processed in the following steps:</p>
<ul class="simple">
<li><p>If the input is an <a class="reference internal" href="#term-EV-file"><span class="xref std std-term">EV file</span></a>, export the <a class="reference internal" href="#term-Sv"><span class="xref std std-term">Sv</span></a> data to
<a class="reference internal" href="#term-CSV"><span class="xref std std-term">CSV</span></a> format.</p>
<ul>
<li><p>By default, the <a class="reference internal" href="#term-Sv"><span class="xref std std-term">Sv</span></a> data is taken from <code class="docutils literal notranslate"><span class="pre">&quot;Fileset1:</span> <span class="pre">Sv</span> <span class="pre">pings</span> <span class="pre">T1&quot;</span></code>.</p></li>
<li><p>Unless <code class="docutils literal notranslate"><span class="pre">--cache-csv</span></code> is provided, the <a class="reference internal" href="#term-CSV"><span class="xref std std-term">CSV file</span></a> is
output to a temporary file, which is deleted after the
<a class="reference internal" href="#term-CSV"><span class="xref std std-term">CSV file</span></a> is imported.</p></li>
</ul>
</li>
<li><p>Import the <a class="reference internal" href="#term-Sv"><span class="xref std std-term">Sv</span></a> data from the <a class="reference internal" href="#term-CSV"><span class="xref std std-term">CSV file</span></a>. (If the
input was a <a class="reference internal" href="#term-CSV"><span class="xref std std-term">CSV file</span></a>, this is the input; if the input
was an <a class="reference internal" href="#term-EV-file"><span class="xref std std-term">EV file</span></a> this is the <a class="reference internal" href="#term-CSV"><span class="xref std std-term">CSV file</span></a> generated
from the <a class="reference internal" href="#term-EV-file"><span class="xref std std-term">EV file</span></a> in the preceding step.)</p></li>
<li><p>Rescale the height of the <a class="reference internal" href="#term-Sv"><span class="xref std std-term">Sv</span></a> input to have the number of pixels
expected by the <a class="reference internal" href="#term-Model"><span class="xref std std-term">model</span></a>.</p></li>
<li><p>Automatically determine whether the <a class="reference internal" href="#term-Echosounder"><span class="xref std std-term">echosounder</span></a> recording is
<a class="reference internal" href="#term-Upfacing"><span class="xref std std-term">upfacing</span></a> or <a class="reference internal" href="#term-Downfacing"><span class="xref std std-term">downfacing</span></a>, based on the order of the Depths
data in the <a class="reference internal" href="#term-CSV"><span class="xref std std-term">CSV file</span></a>.</p>
<ul>
<li><p>If the orientation was manually specified, issue a warning if it
does not match the detected orientation.</p></li>
<li><p>Reflect the data in the Depth dimension if it is <a class="reference internal" href="#term-Upfacing"><span class="xref std std-term">upfacing</span></a>, so
that the shallowest <a class="reference internal" href="#term-Sample-ping"><span class="xref std std-term">samples</span></a> always occur first,
and deepest last.</p></li>
</ul>
</li>
<li><p>Normalise the distribution of the <a class="reference internal" href="#term-Sv"><span class="xref std std-term">Sv</span></a> intensities to match that
expected by the <a class="reference internal" href="#term-Model"><span class="xref std std-term">model</span></a>.</p></li>
<li><p>Split the input data into segments</p>
<ul>
<li><p>Detect temporal discontinuities between <a class="reference internal" href="#term-Ping"><span class="xref std std-term">pings</span></a>.</p></li>
<li><p>Split the input <a class="reference internal" href="#term-Sv"><span class="xref std std-term">Sv</span></a> data into segments such that each segment
contains contiguous <a class="reference internal" href="#term-Ping"><span class="xref std std-term">pings</span></a>.</p></li>
</ul>
</li>
<li><p>Pass the each segment of the input through the <a class="reference internal" href="#term-Model"><span class="xref std std-term">model</span></a> to generate
output probabilities.</p></li>
<li><p>Crop the depth dimension down to zoom in on the most salient data.</p>
<ul>
<li><p>If <a class="reference internal" href="#term-Upfacing"><span class="xref std std-term">upfacing</span></a>, crop the top off the echogram to show only 2m above
the shallowest estimated <a class="reference internal" href="#term-Surface-line"><span class="xref std std-term">surface line</span></a> depth.</p></li>
<li><p>If <a class="reference internal" href="#term-Downfacing"><span class="xref std std-term">downfacing</span></a>, crop the bottom off the echogram only 2m below the
deepest estimated <a class="reference internal" href="#term-Bottom-line"><span class="xref std std-term">bottom line</span></a> depth.</p></li>
<li><p>If more than 35% of the echogram’s height (threshold value set
with <code class="docutils literal notranslate"><span class="pre">--autocrop-threshold</span></code>) was cropped away, pass the cropped
<a class="reference internal" href="#term-Sv"><span class="xref std std-term">Sv</span></a> data through the <a class="reference internal" href="#term-Model"><span class="xref std std-term">model</span></a> to get better predictions
based on the zoomed in data.</p></li>
</ul>
</li>
<li><p>Line boundary probabilities are converted into output depths.</p>
<ul>
<li><p>The boundary probabilities at each pixel are integrated to make a
cumulative probability distribution across depth,
<span class="math notranslate nohighlight">\(p(\text{depth} &gt; \text{boundary location})\)</span>.</p></li>
<li><p>The output boundary depth is estimated as the depth at which the
cumulative probability distribution first exceeds 50%.</p></li>
</ul>
</li>
<li><p>Bottom, surface, and turbulence lines are output to <a class="reference internal" href="#term-EVL"><span class="xref std std-term">EVL</span></a> files.</p>
<ul>
<li><p>Note: there is no EVL file for the <a class="reference internal" href="#term-Nearfield-line"><span class="xref std std-term">nearfield line</span></a> since it
is at a constant depth as provided by the user and not generated by
the <a class="reference internal" href="#term-Model"><span class="xref std std-term">model</span></a>.</p></li>
</ul>
</li>
<li><p>Regions are generated:</p>
<ul>
<li><p>Regions are collated if there is a small gap between consecutive
<a class="reference internal" href="#term-Passive-data"><span class="xref std std-term">passive data</span></a> or <a class="reference internal" href="#term-Bad-data-regions"><span class="xref std std-term">bad data regions</span></a>.</p></li>
<li><p>Regions which are too small (fewer than 10 pings for rectangles)
are dropped.</p></li>
<li><p>All regions are written to a single <a class="reference internal" href="#term-EVR"><span class="xref std std-term">EVR</span></a> file.</p></li>
</ul>
</li>
<li><p>If the input was an <a class="reference internal" href="#term-EV-file"><span class="xref std std-term">EV file</span></a>, the lines and regions are imported into
the <a class="reference internal" href="#term-EV-file"><span class="xref std std-term">EV file</span></a>, and a <a class="reference internal" href="#term-Nearfield-line"><span class="xref std std-term">nearfield line</span></a> is added.</p></li>
</ul>
</div>
<div class="section" id="simulating-processing">
<h3>Simulating processing<a class="headerlink" href="#simulating-processing" title="Permalink to this headline">#</a></h3>
<p>To see which files will be processed by a command and what the output
will be, run <a class="reference internal" href="programs/inference.html#echofilter-cli"><span class="std std-ref">echofilter</span></a> with the <code class="docutils literal notranslate"><span class="pre">--dry-run</span></code> argument.</p>
</div>
<div class="section" id="input">
<h3>Input<a class="headerlink" href="#input" title="Permalink to this headline">#</a></h3>
<p><a class="reference internal" href="programs/inference.html#echofilter-cli"><span class="std std-ref">Echofilter</span></a> can process two types of file as its
input: .EV files and .CSV files. The <a class="reference internal" href="#term-EV-file"><span class="xref std std-term">EV file</span></a> input is more
user-friendly, but requires the Windows operating system, and a fully
operational <a class="reference internal" href="#term-Echoview"><span class="xref std std-term">Echoview</span></a> application (i.e. with an Echoview dongle).
The <a class="reference internal" href="#term-CSV"><span class="xref std std-term">CSV file</span></a> format can be processed without Echoview, but
must be generated in advance from the .EV file on a system with Echoview.
The <a class="reference internal" href="#term-CSV"><span class="xref std std-term">CSV files</span></a> must contain raw <a class="reference internal" href="#term-Sv"><span class="xref std std-term">Sv</span></a> data (without
thresholding or masking) and in the format produced by exporting
<a class="reference internal" href="#term-Sv"><span class="xref std std-term">Sv</span></a> data from Echoview. These raw <a class="reference internal" href="#term-CSV"><span class="xref std std-term">CSV files</span></a> can be
exported using the utility <a class="reference internal" href="programs/ev2csv.html#ev2csv-cli"><span class="std std-ref">ev2csv</span></a>, which is provided
as a separate executable in the <a class="reference internal" href="programs/inference.html#echofilter-cli"><span class="std std-ref">echofilter</span></a> package.</p>
<p>If the input path is a directory, all files in the directory are
processed. By default, all subdirectories are recursively processed;
this behaviour can be disabled with the <code class="docutils literal notranslate"><span class="pre">--no-recursive-dir-search</span></code>
argument. All files in the directory (and subdirectories) with an
appropriate file extension will be processed. By default, files with a
.CSV or .EV file extension (case insensitive) which will be processed.
The file extensions to include can be set with the <code class="docutils literal notranslate"><span class="pre">--extension</span></code> argument.</p>
<p>Multiple input files or directories can also be specified (each
separated by a space).</p>
<p>By default, when processing an <a class="reference internal" href="#term-EV-file"><span class="xref std std-term">EV file</span></a>, the <a class="reference internal" href="#term-Sv"><span class="xref std std-term">Sv</span></a> data is taken
from the <code class="docutils literal notranslate"><span class="pre">&quot;Fileset1:</span> <span class="pre">Sv</span> <span class="pre">pings</span> <span class="pre">T1&quot;</span></code> variable. This can be changed with the
<code class="docutils literal notranslate"><span class="pre">--variable-name</span></code> argument.</p>
</div>
<div class="section" id="loading-model">
<h3>Loading model<a class="headerlink" href="#loading-model" title="Permalink to this headline">#</a></h3>
<p>The <a class="reference internal" href="#term-Model"><span class="xref std std-term">model</span></a> used to process the data is loaded from a <a class="reference internal" href="#term-Checkpoint"><span class="xref std std-term">checkpoint</span></a>
file. The executable <a class="reference internal" href="#term-echofilter.exe"><span class="xref std std-term">echofilter.exe</span></a> comes with its default model
checkpoint bundled as part of the release. Aside from this, the first time a
particular model is used, the checkpoint file will be downloaded over the
internet. The checkpoint file will be cached on your system and will not need
to be downloaded again unless you clear your cache.</p>
<p>Multiple models are available to select from. These can be shown by
running the command <code class="docutils literal notranslate"><span class="pre">echofilter</span> <span class="pre">--list-checkpoints</span></code>. The default model
will be highlighted in the output. In general, it is recommended to use
the default checkpoint. See <a class="reference internal" href="#model-checkpoints"><span class="std std-ref">Model checkpoints</span></a> below for more details.</p>
<p>When running <a class="reference internal" href="programs/inference.html#echofilter-cli"><span class="std std-ref">echofilter</span></a> for <a class="reference internal" href="#term-Inference"><span class="xref std std-term">inference</span></a>, the
checkpoint can be specified with the <code class="docutils literal notranslate"><span class="pre">--checkpoint</span></code> argument.</p>
<p>If you wish to use a custom model which is not built in to <a class="reference internal" href="#term-Echofilter"><span class="xref std std-term">echofilter</span></a>,
specify a path to the checkpoint file using the <code class="docutils literal notranslate"><span class="pre">--checkpoint</span></code> argument.</p>
</div>
<div class="section" id="output">
<h3>Output<a class="headerlink" href="#output" title="Permalink to this headline">#</a></h3>
<div class="section" id="output-files">
<h4>Output files<a class="headerlink" href="#output-files" title="Permalink to this headline">#</a></h4>
<p>For each input file, <a class="reference internal" href="programs/inference.html#echofilter-cli"><span class="std std-ref">echofilter</span></a> produces the
following output files:</p>
<dl class="simple">
<dt>&lt;input&gt;.bottom.evl</dt><dd><p>An Echoview line file containing the depth of the
<a class="reference internal" href="#term-Bottom-line"><span class="xref std std-term">bottom line</span></a>.</p>
</dd>
<dt>&lt;input&gt;.regions.evr</dt><dd><p>An Echoview region file containing
spatiotemporal definitions of <a class="reference internal" href="#term-Passive-data"><span class="xref std std-term">passive</span></a> recording
rectangle regions, <a class="reference internal" href="#term-Bad-data-regions"><span class="xref std std-term">bad data</span></a> full-vertical depth
rectangle regions, and <a class="reference internal" href="#term-Bad-data-regions"><span class="xref std std-term">bad data</span></a> anomaly
polygonal (contour) regions.</p>
</dd>
<dt>&lt;input&gt;.surface.evl</dt><dd><p>An Echoview line file containing the depth of
the <a class="reference internal" href="#term-Surface-line"><span class="xref std std-term">surface line</span></a>.</p>
</dd>
<dt>&lt;input&gt;.turbulence.evl</dt><dd><p>An Echoview line file containing the depth of
the <a class="reference internal" href="#term-Turbulence-line"><span class="xref std std-term">turbulence line</span></a>.</p>
</dd>
</dl>
<p>where &lt;input&gt; is the path to an input file, stripped of its file
extension. There is no <a class="reference internal" href="#term-EVL"><span class="xref std std-term">EVL</span></a> file for the <a class="reference internal" href="#term-Nearfield-line"><span class="xref std std-term">nearfield line</span></a>, since
it is a virtual line of fixed depth added to the <a class="reference internal" href="#term-EV-file"><span class="xref std std-term">EV file</span></a> during the
<a class="reference internal" href="#importing-outputs-into-ev-file"><span class="std std-ref">Importing outputs into EV file</span></a> step.</p>
<p>By default, the output files are located in the same directory as the
file being processed. The output directory can be changed with the
<code class="docutils literal notranslate"><span class="pre">--output-dir</span></code> argument, and a user-defined suffix can be added to the
output file names using the <code class="docutils literal notranslate"><span class="pre">--suffix</span></code> argument.</p>
<p>If the output files already exist, by default <a class="reference internal" href="programs/inference.html#echofilter-cli"><span class="std std-ref">echofilter</span></a>
will stop running and raise an error. If you want to overwrite output files
which already exist, supply the <code class="docutils literal notranslate"><span class="pre">--overwrite-files</span></code> argument. If you want to
skip inputs whose output files all already exist, supply the <code class="docutils literal notranslate"><span class="pre">--skip</span></code>
argument. Note: if both <code class="docutils literal notranslate"><span class="pre">--skip</span></code> and <code class="docutils literal notranslate"><span class="pre">--overwrite-files</span></code> are supplied,
inputs whose outputs all exist will be skipped and those inputs for
which only some of the outputs exist will have existing outputs
overwritten.</p>
<p>Specific outputs can be dropped by supplying the corresponding argument
<code class="docutils literal notranslate"><span class="pre">--no-bottom-line</span></code>, <code class="docutils literal notranslate"><span class="pre">--no-surface-line</span></code>, or <code class="docutils literal notranslate"><span class="pre">--no-turbulence-line</span></code>
respectively. To drop particular types of region entirely from the <a class="reference internal" href="#term-EVR"><span class="xref std std-term">EVR</span></a>
output, use <code class="docutils literal notranslate"><span class="pre">--minimum-passive-length</span> <span class="pre">-1</span></code>, <code class="docutils literal notranslate"><span class="pre">--minimum-removed-length</span> <span class="pre">-1</span></code>,
or <code class="docutils literal notranslate"><span class="pre">--minimum-patch-area</span> <span class="pre">-1</span></code> respectively. By default,
<a class="reference internal" href="#term-Bad-data-regions"><span class="xref std std-term">bad data</span></a> regions (rectangles and contours) are not
included in the <a class="reference internal" href="#term-EVR"><span class="xref std std-term">EVR</span></a> file. To include these, set
<code class="docutils literal notranslate"><span class="pre">--minimum-removed-length</span></code> and <code class="docutils literal notranslate"><span class="pre">--minimum-patch-area</span></code> to non-negative
values.</p>
<p>The lines written to the <a class="reference internal" href="#term-EVL"><span class="xref std std-term">EVL</span></a> files are the raw output from the model
and do not include any offset.</p>
</div>
<div class="section" id="importing-outputs-into-ev-file">
<span id="id1"></span><h4>Importing outputs into EV file<a class="headerlink" href="#importing-outputs-into-ev-file" title="Permalink to this headline">#</a></h4>
<p>If the input file is an Echoview <a class="reference internal" href="#term-EV-file"><span class="xref std std-term">EV file</span></a>, by default
<a class="reference internal" href="programs/inference.html#echofilter-cli"><span class="std std-ref">echofilter</span></a> will import the output files into the
<a class="reference internal" href="#term-EV-file"><span class="xref std std-term">EV file</span></a> and save the <a class="reference internal" href="#term-EV-file"><span class="xref std std-term">EV file</span></a> (overwriting the original
<a class="reference internal" href="#term-EV-file"><span class="xref std std-term">EV file</span></a>). The behaviour can be disabled by supplying the
<code class="docutils literal notranslate"><span class="pre">--no-ev-import</span></code> argument.</p>
<p>All lines will be imported twice: once at the original depth and a
second time with an offset included. This offset ensures the exclusion
of data biased by the acoustic deadzone, and provides a margin of safety
at the bottom depth of the <a class="reference internal" href="#term-Entrained-air"><span class="xref std std-term">entrained air</span></a>. The offset moves the
<a class="reference internal" href="#term-Surface-line"><span class="xref std std-term">surface</span></a> and <a class="reference internal" href="#term-Turbulence-line"><span class="xref std std-term">turbulence</span></a> lines
downwards (deeper), and the <a class="reference internal" href="#term-Bottom-line"><span class="xref std std-term">bottom line</span></a> upwards (shallower).
The default offset is 1m for all three lines, and can be
set using the <code class="docutils literal notranslate"><span class="pre">--offset</span></code> argument. A different offset can be used for each
line by providing the <code class="docutils literal notranslate"><span class="pre">--offset-bottom</span></code>, <code class="docutils literal notranslate"><span class="pre">--offset-surface</span></code>, and
<code class="docutils literal notranslate"><span class="pre">--offset-turbulence</span></code> arguments.</p>
<p>The names of the objects imported into the <a class="reference internal" href="#term-EV-file"><span class="xref std std-term">EV file</span></a> have the suffix
<code class="docutils literal notranslate"><span class="pre">&quot;_echofilter&quot;</span></code> appended to them, to indicate the source of the
line/region. However, if the <code class="docutils literal notranslate"><span class="pre">--suffix</span></code> argument was provided, that suffix
is used instead. A custom suffix for the variable names within the EV
file can be specified using the <code class="docutils literal notranslate"><span class="pre">--suffix-var</span></code> argument.</p>
<p>If the variable name to be used for a line is already in use, the
default behaviour is to append the current datetime to the new variable
name. To instead overwrite existing line variables, supply the
<code class="docutils literal notranslate"><span class="pre">--overwrite-ev-lines</span></code> argument. Note that existing regions will not be
overwritten (only lines).</p>
<p>By default, a <a class="reference internal" href="#term-Nearfield-line"><span class="xref std std-term">nearfield line</span></a> is also added to the <a class="reference internal" href="#term-EV-file"><span class="xref std std-term">EV file</span></a>
at a fixed range of 1.7m from the <a class="reference internal" href="#term-Transducer"><span class="xref std std-term">transducer</span></a> position.
The <a class="reference internal" href="#term-Nearfield-distance"><span class="xref std std-term">nearfield distance</span></a> can be changed as appropriate for the
<a class="reference internal" href="#term-Echosounder"><span class="xref std std-term">echosounder</span></a> in use by setting the <code class="docutils literal notranslate"><span class="pre">--nearfield</span></code> parameter.</p>
<p>The colour and thickness of the lines can be customised using the
<code class="docutils literal notranslate"><span class="pre">--color-surface</span></code>, <code class="docutils literal notranslate"><span class="pre">--thickness-surface</span></code> (etc) arguments.
See <code class="docutils literal notranslate"><span class="pre">echofilter</span> <span class="pre">--list-colors</span></code> to see the list of supported colour names.</p>
</div>
</div>
</div>
<div class="section" id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">#</a></h2>
<div class="section" id="installing-as-an-executable-file">
<h3>Installing as an executable file<a class="headerlink" href="#installing-as-an-executable-file" title="Permalink to this headline">#</a></h3>
<p><a class="reference internal" href="programs/inference.html#echofilter-cli"><span class="std std-ref">Echofilter</span></a> is distributed as an
<a class="reference internal" href="#term-echofilter.exe"><span class="xref std std-term">executable binary file</span></a> for Windows. All
dependencies are packaged as part of the distribution.</p>
<ol class="arabic simple">
<li><p>Download
<a class="reference internal" href="programs/inference.html#echofilter-cli"><span class="std std-ref">echofilter</span></a> from <a class="reference external" href="https://drive.google.com/open?id=1Vq_fVNGzFGwyqHxigX-5maW9UmXfwdOk">GDrive</a>.
It is recommended to use the latest version available.</p></li>
<li><p>Unzip the zip file, and put the directory contained within it
wherever you like on your Windows machine. It is recommended to put
it as an “echofilter” directory within your Programs folder, or
similar. (You may need the
<a class="reference external" href="https://www.winzip.com/win/en/">WinZip</a> application to unzip
the .zip file.)</p></li>
<li><p>In File Explorer,</p>
<ol class="loweralpha simple">
<li><p>navigate to the echofilter directory you unzipped. This directory
contains a file named <a class="reference internal" href="#term-echofilter.exe"><span class="xref std std-term">echofilter.exe</span></a>.</p></li>
<li><p>left click on the echofilter directory containing the
<a class="reference internal" href="#term-echofilter.exe"><span class="xref std std-term">echofilter.exe</span></a> file</p></li>
<li><p>Shift+Right click on the echofilter directory</p></li>
<li><p>select “Copy as path”</p></li>
<li><p>paste the path into a text editor of your choice (e.g. Notepad)</p></li>
</ol>
</li>
<li><p>Find and open the Command Prompt application (your Windows machine
comes with this pre-installed). That application is also called
cmd.exe. It will open a window containing a terminal within which
there is a command prompt where you can type to enter commands.</p></li>
<li><p>Within the Command Prompt window (the terminal window):</p>
<ol class="loweralpha simple">
<li><p>type: <code class="docutils literal notranslate"><span class="pre">&quot;cd</span> <span class="pre">&quot;</span></code> (without quote marks, with a trailing space) and
then right click and select paste in order to paste the full path
to the echofilter directory, which you copied to the clipboard
in step 3d.</p></li>
<li><p>press enter to run this command, which will change the current
working directory of the terminal to the echofilter directory.</p></li>
<li><p>type: <code class="docutils literal notranslate"><span class="pre">echofilter</span> <span class="pre">--version</span></code></p></li>
<li><p>press enter to run this command</p></li>
<li><p>you will see the version number of echofilter printed in the
terminal window</p></li>
<li><p>type: <code class="docutils literal notranslate"><span class="pre">echofilter</span> <span class="pre">--help</span></code></p></li>
<li><p>press enter to run this command</p></li>
<li><p>you will see the help for echofilter printed in the terminal
window</p></li>
</ol>
</li>
<li><p>(Optional) So that you can just run <a class="reference internal" href="programs/inference.html#echofilter-cli"><span class="std std-ref">echofilter</span></a>
without having to change directory (using the <code class="docutils literal notranslate"><span class="pre">cd</span></code> command) to the
directory containing <a class="reference internal" href="#term-echofilter.exe"><span class="xref std std-term">echofilter.exe</span></a>, or use the full path to
<a class="reference internal" href="#term-echofilter.exe"><span class="xref std std-term">echofilter.exe</span></a>, every time you want to use it, it is useful to
add echofilter to the PATH environment variable. This step is entirely
optional and for your convenience only. The PATH environment variable
tells the terminal where it should look for executable commands.</p>
<ol class="loweralpha simple">
<li><p>Instructions for how to do this depend on your version of Windows
and can be found here:
<a class="reference external" href="https://www.computerhope.com/issues/ch000549.htm">https://www.computerhope.com/issues/ch000549.htm</a>.</p></li>
<li><p>An environment variable named PATH (case-insensitive) should
already exist.</p></li>
<li><p>If this is a string, you need to edit the string and prepend the
path from 3e, plus a semicolon. For example, change the
current value of
<code class="docutils literal notranslate"><span class="pre">C:\Program</span> <span class="pre">Files;C:\Winnt;C:\Winnt\System32</span></code>
into
<code class="docutils literal notranslate"><span class="pre">C:\Program</span> <span class="pre">Files\echofilter;C:\Program</span> <span class="pre">Files;C:\Winnt;C:\Winnt\System32</span></code></p></li>
<li><p>If this is a list of strings (without semicolons), add your path
from 3e (e.g. <code class="docutils literal notranslate"><span class="pre">C:\Program</span> <span class="pre">Files\echofilter</span></code>) to the list</p></li>
</ol>
</li>
<li><p>You can now run <a class="reference internal" href="programs/inference.html#echofilter-cli"><span class="std std-ref">echofilter</span></a> on some files, by using
the echofilter command in the terminal. <a class="reference internal" href="#example-commands"><span class="std std-ref">Example commands</span></a> are shown
below.</p></li>
</ol>
</div>
</div>
<div class="section" id="quick-start">
<h2>Quick Start<a class="headerlink" href="#quick-start" title="Permalink to this headline">#</a></h2>
<p>Note that it is recommended to close <a class="reference internal" href="#term-Echoview"><span class="xref std std-term">Echoview</span></a> before running
<a class="reference internal" href="programs/inference.html#echofilter-cli"><span class="std std-ref">echofilter</span></a> so that <a class="reference internal" href="programs/inference.html#echofilter-cli"><span class="std std-ref">echofilter</span></a>
can run its own Echoview instance in the background.
After <a class="reference internal" href="programs/inference.html#echofilter-cli"><span class="std std-ref">echofilter</span></a> has started processing the files,
you can open Echoview again for your own use without interrupting
<a class="reference internal" href="programs/inference.html#echofilter-cli"><span class="std std-ref">echofilter</span></a>.</p>
<div class="section" id="recommended-first-time-usage">
<h3>Recommended first time usage<a class="headerlink" href="#recommended-first-time-usage" title="Permalink to this headline">#</a></h3>
<p>The first time you use <a class="reference internal" href="programs/inference.html#echofilter-cli"><span class="std std-ref">echofilter</span></a>, you should run
it in simulation mode (by supplying the <code class="docutils literal notranslate"><span class="pre">--dry-run</span></code> argument)
before-hand so you can see what it will do:</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="n">echofilter</span> <span class="n">some</span><span class="p">/</span><span class="n">path</span><span class="p">/</span><span class="n">to</span><span class="p">/</span><span class="n">directory_or_file</span> <span class="p">-</span><span class="n">-dry-run</span>
</pre></div>
</div>
<p>The path you supply to <a class="reference internal" href="programs/inference.html#echofilter-cli"><span class="std std-ref">echofilter</span></a> can be an
absolute path, or a relative path. If it is a relative path, it should be
relative to the current working directory of the command prompt.</p>
</div>
<div class="section" id="example-commands">
<span id="id2"></span><h3>Example commands<a class="headerlink" href="#example-commands" title="Permalink to this headline">#</a></h3>
<p>Review echofilter’s documentation help within the terminal:</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="n">echofilter</span> <span class="p">-</span><span class="n">-help</span>
</pre></div>
</div>
<p>Specifying a single file to process, using an absolute path:</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="n">echofilter</span> <span class="s2">&quot;C:\Users\Bob\Desktop\MinasPassage\2020\20200801_SiteA.EV&quot;</span>
</pre></div>
</div>
<p>Specifying a single file to process, using a path relative to the
current directory of the command prompt:</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="n">echofilter</span> <span class="s2">&quot;MinasPassage\2020\20200801_SiteA.EV&quot;</span>
</pre></div>
</div>
<p>Simulating processing of a single file, using a relative path:</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="n">echofilter</span> <span class="s2">&quot;MinasPassage\2020\20200801_SiteA.EV&quot;</span> <span class="p">-</span><span class="n">-dry-run</span>
</pre></div>
</div>
<p>Specifying a directory of <a class="reference internal" href="#term-Upfacing"><span class="xref std std-term">upfacing</span></a> <a class="reference internal" href="#term-Stationary"><span class="xref std std-term">stationary</span></a> data to process,
and excluding the bottom line from the output:</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="n">echofilter</span> <span class="s2">&quot;C:\Users\Bob\OneDrive\Desktop\MinasPassage\2020&quot;</span> <span class="p">-</span><span class="n">-no-bottom-line</span>
</pre></div>
</div>
<p>Specifying a directory of <a class="reference internal" href="#term-Downfacing"><span class="xref std std-term">downfacing</span></a> <a class="reference internal" href="#term-Mobile"><span class="xref std std-term">mobile</span></a> data to process,
and excluding the surface line from the output:</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="n">echofilter</span> <span class="s2">&quot;C:\Users\Bob\Documents\MobileSurveyData\Survey11&quot;</span> <span class="p">-</span><span class="n">-no-surface-line</span>
</pre></div>
</div>
<p>Processing the same directory after some files were added to it,
skipping files already processed:</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="n">echofilter</span> <span class="s2">&quot;C:\Users\Bob\Documents\MobileSurveyData\Survey11&quot;</span> <span class="p">-</span><span class="n">-no-surface</span> <span class="p">-</span><span class="n">-skip</span>
</pre></div>
</div>
<p>Processing the same directory after some files were added to it,
overwriting files already processed:</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="n">echofilter</span> <span class="s2">&quot;C:\Users\Bob\Documents\MobileSurveyData\Survey11&quot;</span> <span class="p">-</span><span class="n">-no-surface</span> <span class="p">-</span><span class="n">-force</span>
</pre></div>
</div>
<p>Ignoring all <a class="reference internal" href="#term-Bad-data-regions"><span class="xref std std-term">bad data regions</span></a> (default),
using <code class="docutils literal notranslate"><span class="pre">^</span></code> to break up the long command into multiple lines:</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="n">echofilter</span> <span class="s2">&quot;path/to/file_or_directory&quot;</span> <span class="p">^</span>
    <span class="p">-</span><span class="n">-minimum-removed-length</span> <span class="p">-</span><span class="n">1</span> <span class="p">^</span>
    <span class="p">-</span><span class="n">-minimum-patch-area</span> <span class="p">-</span><span class="n">1</span>
</pre></div>
</div>
<p>Including <a class="reference internal" href="#term-Bad-data-regions"><span class="xref std std-term">bad data regions</span></a> in the <a class="reference internal" href="#term-EVR"><span class="xref std std-term">EVR</span></a> output:</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="n">echofilter</span> <span class="s2">&quot;path/to/file_or_directory&quot;</span> <span class="p">^</span>
    <span class="p">-</span><span class="n">-minimum-removed-length</span> <span class="n">10</span> <span class="p">^</span>
    <span class="p">-</span><span class="n">-minimum-patch-area</span> <span class="n">25</span>
</pre></div>
</div>
<p>Keep line predictions during <a class="reference internal" href="#term-Passive-data"><span class="xref std std-term">passive</span></a> periods (default
is to linearly interpolate lines during passive data collection):</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="n">echofilter</span> <span class="s2">&quot;path/to/file_or_directory&quot;</span> <span class="p">-</span><span class="n">-lines-during-passive</span> <span class="n">predict</span>
</pre></div>
</div>
<p>Specifying file and variable suffix, and line colours and thickness:</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="n">echofilter</span> <span class="s2">&quot;path/to/file_or_directory&quot;</span> <span class="p">^</span>
    <span class="p">-</span><span class="n">-suffix</span> <span class="s2">&quot;_echofilter_stationary-model&quot;</span> <span class="p">^</span>
    <span class="p">-</span><span class="n">-color-surface</span> <span class="s2">&quot;green&quot;</span> <span class="p">-</span><span class="n">-thickness-surface</span> <span class="n">4</span> <span class="p">^</span>
    <span class="p">-</span><span class="n">-color-nearfield</span> <span class="s2">&quot;red&quot;</span> <span class="p">-</span><span class="n">-thickness-nearfield</span> <span class="n">3</span>
</pre></div>
</div>
<p>Processing a file with more output messages displayed in the terminal:</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="n">echofilter</span> <span class="s2">&quot;path/to/file_or_directory&quot;</span> <span class="p">-</span><span class="n">-verbose</span>
</pre></div>
</div>
<p>Processing a file and sending the output to a log file instead of the
terminal:</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="n">echofilter</span> <span class="s2">&quot;path/to/file_or_directory&quot;</span> <span class="n">-v</span> <span class="p">&gt;</span> <span class="n">path</span><span class="p">/</span><span class="n">to</span><span class="p">/</span><span class="n">log_file</span><span class="p">.</span><span class="n">txt</span> <span class="n">2</span><span class="p">&gt;&amp;</span><span class="n">1</span>
</pre></div>
</div>
</div>
<div class="section" id="argument-documentation">
<h3>Argument documentation<a class="headerlink" href="#argument-documentation" title="Permalink to this headline">#</a></h3>
<p><a class="reference internal" href="programs/inference.html#echofilter-cli"><span class="std std-ref">Echofilter</span></a> has a large number of customisation options.
The complete list of argument options available to the user can be seen in the
<a class="reference internal" href="programs/inference.html#echofilter-cli"><span class="std std-ref">CLI Reference</span></a>, or by consulting the help for
<a class="reference internal" href="programs/inference.html#echofilter-cli"><span class="std std-ref">echofilter</span></a>. The help documentation is output to the
terminal when you run the command <code class="docutils literal notranslate"><span class="pre">echofilter</span> <span class="pre">--help</span></code>.</p>
</div>
<div class="section" id="actions">
<h3>Actions<a class="headerlink" href="#actions" title="Permalink to this headline">#</a></h3>
<p>The main <a class="reference internal" href="programs/inference.html#echofilter-cli"><span class="std std-ref">echofilter</span></a> action is to perform
<a class="reference internal" href="#term-Inference"><span class="xref std std-term">inference</span></a> on a file or collection of files. However, certain
arguments trigger different actions.</p>
<div class="section" id="help">
<h4>help<a class="headerlink" href="#help" title="Permalink to this headline">#</a></h4>
<p>Show <a class="reference internal" href="programs/inference.html#echofilter-cli"><span class="std std-ref">echofilter</span></a> documentation and all possible
arguments.</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="n">echofilter</span> <span class="p">-</span><span class="n">-help</span>
</pre></div>
</div>
</div>
<div class="section" id="version">
<h4>version<a class="headerlink" href="#version" title="Permalink to this headline">#</a></h4>
<p>Show program’s version number.</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="n">echofilter</span> <span class="p">-</span><span class="n">-version</span>
</pre></div>
</div>
</div>
<div class="section" id="list-checkpoints">
<h4>list checkpoints<a class="headerlink" href="#list-checkpoints" title="Permalink to this headline">#</a></h4>
<p>Show the available model checkpoints and exit.</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="n">echofilter</span> <span class="p">-</span><span class="n">-list-checkpoints</span>
</pre></div>
</div>
</div>
<div class="section" id="list-colours">
<h4>list colours<a class="headerlink" href="#list-colours" title="Permalink to this headline">#</a></h4>
<p>List the available (main) colour options for lines. The palette can be
viewed at <a class="reference external" href="https://matplotlib.org/gallery/color/named_colors.html">https://matplotlib.org/gallery/color/named_colors.html</a></p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="n">echofilter</span> <span class="p">-</span><span class="n">-list-colors</span>
</pre></div>
</div>
<p>List all available colour options (very long list) including the XKCD
colour palette of 954 colours, which can be viewed at
<a class="reference external" href="https://xkcd.com/color/rgb/">https://xkcd.com/color/rgb/</a></p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="n">echofilter</span> <span class="p">-</span><span class="n">-list-colors</span> <span class="n">full</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="command-line-interface-primer">
<h2>Command line interface primer<a class="headerlink" href="#command-line-interface-primer" title="Permalink to this headline">#</a></h2>
<p>In this section, we provide some pointers for users new to using the
command prompt.</p>
<div class="section" id="spaces-in-file-names">
<h3>Spaces in file names<a class="headerlink" href="#spaces-in-file-names" title="Permalink to this headline">#</a></h3>
<p>Running commands on files with spaces in their file names is
problematic. This is because spaces are used to separate arguments from
each other, so for instance:</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="n">command-name</span> <span class="n">some</span> <span class="n">path</span> <span class="n">with</span> <span class="n">spaces</span>
</pre></div>
</div>
<p>is actually running the command <code class="docutils literal notranslate"><span class="pre">command-name</span></code> with four arguments:
<code class="docutils literal notranslate"><span class="pre">some</span></code>, <code class="docutils literal notranslate"><span class="pre">path</span></code>, <code class="docutils literal notranslate"><span class="pre">with</span></code>, and <code class="docutils literal notranslate"><span class="pre">spaces</span></code>.</p>
<p>You can run commands on paths containing spaces by encapsulating the path
in quotes (either single, <code class="docutils literal notranslate"><span class="pre">'</span></code>, or double <code class="docutils literal notranslate"><span class="pre">&quot;</span></code> quotes), so it becomes
a single string. For instance:</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="n">command-name</span> <span class="s2">&quot;some path with spaces&quot;</span>
</pre></div>
</div>
<p>In the long run, you may find it easier to change your directory
structure to not include any spaces in any of the names of directories
used for the data.</p>
</div>
<div class="section" id="trailing-backslash">
<h3>Trailing backslash<a class="headerlink" href="#trailing-backslash" title="Permalink to this headline">#</a></h3>
<p>The backslash (<code class="docutils literal notranslate"><span class="pre">\</span></code>) character is an
<a class="reference external" href="https://en.wikipedia.org/wiki/Escape_character">escape character</a>,
used to give alternative meanings to symbols with special meanings.
For example, the quote characters <code class="docutils literal notranslate"><span class="pre">&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">'</span></code> indicate the start or end
of a string but can be escaped to obtain a literal quote character.</p>
<p>On Windows, <code class="docutils literal notranslate"><span class="pre">\</span></code> is also used to denote directories. This overloads
the <code class="docutils literal notranslate"><span class="pre">\</span></code> symbol with multiple meanings. For this reason, you should not
include a trailing <code class="docutils literal notranslate"><span class="pre">\</span></code> when specifying directory inputs. Otherwise, if you
provide the path in quotes, an input of <code class="docutils literal notranslate"><span class="pre">&quot;some\path\&quot;</span></code> will not be
registered correctly, and will include a literal <code class="docutils literal notranslate"><span class="pre">&quot;</span></code> character, with
the end of the string implicitly indicated by the end of the input.
Instead, you should use <code class="docutils literal notranslate"><span class="pre">&quot;some\path&quot;</span></code>.</p>
<p>Alternatively, you could escape the backslash character to ensure
it is a literal backslash with <code class="docutils literal notranslate"><span class="pre">&quot;some\path\\&quot;</span></code>, or use a forward
slash with <code class="docutils literal notranslate"><span class="pre">&quot;some/path/&quot;</span></code> since <a class="reference internal" href="programs/inference.html#echofilter-cli"><span class="std std-ref">echofilter</span></a>
also understands forward slashes as a directory separator.</p>
</div>
<div class="section" id="argument-types">
<h3>Argument types<a class="headerlink" href="#argument-types" title="Permalink to this headline">#</a></h3>
<p>Commands at the command prompt can take arguments. There are a couple of
types of arguments:</p>
<ul class="simple">
<li><p>mandatory, positional arguments</p></li>
<li><p>optional arguments</p>
<ul>
<li><p>shorthand arguments which start with a single hyphen (<code class="docutils literal notranslate"><span class="pre">-v</span></code>)</p></li>
<li><p>longhand arguments which start with two hyphens (<code class="docutils literal notranslate"><span class="pre">--verbose</span></code>)</p></li>
</ul>
</li>
</ul>
<p>For <a class="reference internal" href="programs/inference.html#echofilter-cli"><span class="std std-ref">echofilter</span></a>, the only positional argument is
the path to the file(s) or directory(ies) to process.</p>
<p>Arguments take differing numbers of parameters.
For <a class="reference internal" href="programs/inference.html#echofilter-cli"><span class="std std-ref">echofilter</span></a> the positional argument (files to
process) must have at least one entry and can contain as many as you like.</p>
<p>Arguments which take zero parameters are sometimes called flags, such as
the flag <code class="docutils literal notranslate"><span class="pre">--skip-existing</span></code></p>
<p>Shorthand arguments can be given together, such as <code class="docutils literal notranslate"><span class="pre">-vvfsn</span></code>, which is the
same as all of <code class="docutils literal notranslate"><span class="pre">--verbose</span> <span class="pre">--verbose</span> <span class="pre">--force</span> <span class="pre">--skip</span> <span class="pre">--dry-run</span></code>.</p>
<p>In the help documentation, arguments which require at least one value to
be supplied have text in capitals after the argument, such as
<code class="docutils literal notranslate"><span class="pre">--suffix-var</span> <span class="pre">SUFFIX_VAR</span></code>. Arguments which have synonyms are listed
together in one entry, such as <code class="docutils literal notranslate"><span class="pre">--skip-existing</span></code>, <code class="docutils literal notranslate"><span class="pre">--skip</span></code>, <code class="docutils literal notranslate"><span class="pre">-s</span></code>; and
<code class="docutils literal notranslate"><span class="pre">--output-dir</span> <span class="pre">OUTPUT_DIR</span></code>, <code class="docutils literal notranslate"><span class="pre">-o</span> <span class="pre">OUTPUT_DIR</span></code>. Arguments where a variable is
optional have it shown in square brackets, such as
<code class="docutils literal notranslate"><span class="pre">--cache-csv</span> <span class="pre">[CSV_DIR]</span></code>. Arguments which accept a variable number of values
are shown such as <code class="docutils literal notranslate"><span class="pre">--extension</span> <span class="pre">SEARCH_EXTENSION</span> <span class="pre">[SEARCH_EXTENSION</span> <span class="pre">...]</span></code>.
Arguments whose value can only take one of a set number of options are
shown in curly brackets, such as <code class="docutils literal notranslate"><span class="pre">--facing</span> <span class="pre">{downward,upward,auto}</span></code>.</p>
<p>Long lines for commands at the command prompt can be broken up into
multiple lines by using a continuation character. On Windows, the line
continuation character is <code class="docutils literal notranslate"><span class="pre">^</span></code>, the caret symbol. When specifying optional
arguments requires that the command be continued on the next line,
finish the current line with <code class="docutils literal notranslate"><span class="pre">^</span></code> and begin the subsequent line at the
start of the next line.</p>
</div>
</div>
<div class="section" id="pre-trained-models">
<h2>Pre-trained models<a class="headerlink" href="#pre-trained-models" title="Permalink to this headline">#</a></h2>
<p>The currently available model checkpoints can be seen by running the
command:</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="n">echofilter</span> <span class="p">-</span><span class="n">-list-checkpoints</span>
</pre></div>
</div>
<p>All current checkpoints were trained on data acquired by
<a class="reference external" href="http://fundyforce.ca">FORCE</a>.</p>
<div class="section" id="training-datasets">
<h3>Training Datasets<a class="headerlink" href="#training-datasets" title="Permalink to this headline">#</a></h3>
<div class="section" id="stationary">
<h4>Stationary<a class="headerlink" href="#stationary" title="Permalink to this headline">#</a></h4>
<dl class="field-list">
<dt class="field-odd">data collection</dt>
<dd class="field-odd"><p>bottom-mounted <a class="reference internal" href="#term-Stationary"><span class="xref std std-term">stationary</span></a>, autonomous</p>
</dd>
<dt class="field-even">orientation</dt>
<dd class="field-even"><p>uplooking</p>
</dd>
<dt class="field-odd">echosounder</dt>
<dd class="field-odd"><p>120 kHz Simrad WBAT</p>
</dd>
<dt class="field-even">locations</dt>
<dd class="field-even"><ul>
<li><p>FORCE tidal power demonstration site, Minas Passage</p>
<blockquote>
<div><ul class="simple">
<li><p>45°21’47.34”N  64°25’38.94”W</p></li>
<li><p>December 2017 through November 2018</p></li>
</ul>
</div></blockquote>
</li>
<li><p>SMEC, Grand Passage</p>
<blockquote>
<div><ul class="simple">
<li><p>44°15’49.80”N  66°20’12.60”W</p></li>
<li><p>December 2019 through January 2020</p></li>
</ul>
</div></blockquote>
</li>
</ul>
</dd>
<dt class="field-odd">organization</dt>
<dd class="field-odd"><p>FORCE</p>
</dd>
</dl>
</div>
<div class="section" id="mobile">
<h4>Mobile<a class="headerlink" href="#mobile" title="Permalink to this headline">#</a></h4>
<dl class="field-list">
<dt class="field-odd">data collection</dt>
<dd class="field-odd"><p>vessel-based 24-hour transect surveys</p>
</dd>
<dt class="field-even">orientation</dt>
<dd class="field-even"><p>downlooking</p>
</dd>
<dt class="field-odd">echosounder</dt>
<dd class="field-odd"><p>120 kHz Simrad EK80</p>
</dd>
<dt class="field-even">locations</dt>
<dd class="field-even"><ul>
<li><p>FORCE tidal power demonstration site, Minas Passage</p>
<blockquote>
<div><ul class="simple">
<li><p>45°21’57.58”N  64°25’50.97”W</p></li>
<li><p>May 2016 through October 2018</p></li>
</ul>
</div></blockquote>
</li>
</ul>
</dd>
<dt class="field-odd">organization</dt>
<dd class="field-odd"><p>FORCE</p>
</dd>
</dl>
</div>
</div>
<div class="section" id="model-checkpoints">
<span id="id3"></span><h3>Model checkpoints<a class="headerlink" href="#model-checkpoints" title="Permalink to this headline">#</a></h3>
<p>The architecture used for all current models is a U-Net with a backbone
of 6 EfficientNet blocks in each direction (encoding and decoding).
There are horizontal skip connections between compression and expansion
blocks at the same spatial scale and a latent space of 32 channels
throughout the network. The depth dimension of the input is halved
(doubled) after each block, whilst the time dimension is halved
(doubled) every other block.</p>
<p>Details for notable model checkpoints are provided below.</p>
<dl class="field-list simple">
<dt class="field-odd">conditional_mobile-stationary2_effunet6x2-1_lc32_v2.2</dt>
<dd class="field-odd"><ul class="simple">
<li><p>Trained on both <a class="reference internal" href="#term-Upfacing"><span class="xref std std-term">upfacing</span></a> <a class="reference internal" href="#term-Stationary"><span class="xref std std-term">stationary</span></a> and
<a class="reference internal" href="#term-Downfacing"><span class="xref std std-term">downfacing</span></a> <a class="reference internal" href="#term-Mobile"><span class="xref std std-term">mobile</span></a> data.</p></li>
<li><p>Jaccard Index of <strong>96.84%</strong> on <a class="reference internal" href="#term-Downfacing"><span class="xref std std-term">downfacing</span></a> <a class="reference internal" href="#term-Mobile"><span class="xref std std-term">mobile</span></a> and
<strong>94.51%</strong> on <a class="reference internal" href="#term-Upfacing"><span class="xref std std-term">upfacing</span></a> <a class="reference internal" href="#term-Stationary"><span class="xref std std-term">stationary</span></a>
<a class="reference internal" href="#term-Validation-set"><span class="xref std std-term">validation</span></a> data.</p></li>
<li><p>Default model checkpoint.</p></li>
</ul>
</dd>
<dt class="field-even">conditional_mobile-stationary2_effunet6x2-1_lc32_v2.1</dt>
<dd class="field-even"><ul class="simple">
<li><p>Trained on both <a class="reference internal" href="#term-Upfacing"><span class="xref std std-term">upfacing</span></a> <a class="reference internal" href="#term-Stationary"><span class="xref std std-term">stationary</span></a> and
<a class="reference internal" href="#term-Downfacing"><span class="xref std std-term">downfacing</span></a> <a class="reference internal" href="#term-Mobile"><span class="xref std std-term">mobile</span></a> data.</p></li>
<li><p>Jaccard Index of 96.8% on <a class="reference internal" href="#term-Downfacing"><span class="xref std std-term">downfacing</span></a> <a class="reference internal" href="#term-Mobile"><span class="xref std std-term">mobile</span></a> and
94.4% on <a class="reference internal" href="#term-Upfacing"><span class="xref std std-term">upfacing</span></a> <a class="reference internal" href="#term-Stationary"><span class="xref std std-term">stationary</span></a>
<a class="reference internal" href="#term-Validation-set"><span class="xref std std-term">validation</span></a> data.</p></li>
</ul>
</dd>
<dt class="field-odd">conditional_mobile-stationary2_effunet6x2-1_lc32_v2.0</dt>
<dd class="field-odd"><ul class="simple">
<li><p>Trained on both <a class="reference internal" href="#term-Upfacing"><span class="xref std std-term">upfacing</span></a> <a class="reference internal" href="#term-Stationary"><span class="xref std std-term">stationary</span></a> and
<a class="reference internal" href="#term-Downfacing"><span class="xref std std-term">downfacing</span></a> <a class="reference internal" href="#term-Mobile"><span class="xref std std-term">mobile</span></a> data.</p></li>
<li><p>Jaccard Index of 96.62% on <a class="reference internal" href="#term-Downfacing"><span class="xref std std-term">downfacing</span></a> <a class="reference internal" href="#term-Mobile"><span class="xref std std-term">mobile</span></a> and
94.29% on <a class="reference internal" href="#term-Upfacing"><span class="xref std std-term">upfacing</span></a> <a class="reference internal" href="#term-Stationary"><span class="xref std std-term">stationary</span></a>
<a class="reference internal" href="#term-Validation-set"><span class="xref std std-term">validation</span></a> data.</p></li>
<li><p><a class="reference internal" href="#term-Sample-model-input"><span class="xref std std-term">Sample</span></a> outputs on <a class="reference internal" href="#term-Upfacing"><span class="xref std std-term">upfacing</span></a>
<a class="reference internal" href="#term-Stationary"><span class="xref std std-term">stationary</span></a> data were thoroughly verified via manual inspection
by trained analysts.</p></li>
</ul>
</dd>
<dt class="field-even">stationary2_effunet6x2-1_lc32_v2.1</dt>
<dd class="field-even"><ul class="simple">
<li><p>Trained on <a class="reference internal" href="#term-Upfacing"><span class="xref std std-term">upfacing</span></a> <a class="reference internal" href="#term-Stationary"><span class="xref std std-term">stationary</span></a> data only.</p></li>
<li><p>Jaccard Index of 94.4% on <a class="reference internal" href="#term-Upfacing"><span class="xref std std-term">upfacing</span></a> <a class="reference internal" href="#term-Stationary"><span class="xref std std-term">stationary</span></a>
<a class="reference internal" href="#term-Validation-set"><span class="xref std std-term">validation</span></a> data.</p></li>
</ul>
</dd>
<dt class="field-odd">stationary2_effunet6x2-1_lc32_v2.0</dt>
<dd class="field-odd"><ul class="simple">
<li><p>Trained on <a class="reference internal" href="#term-Upfacing"><span class="xref std std-term">upfacing</span></a> <a class="reference internal" href="#term-Stationary"><span class="xref std std-term">stationary</span></a> data only.</p></li>
<li><p>Jaccard Index of 94.41% on <a class="reference internal" href="#term-Upfacing"><span class="xref std std-term">upfacing</span></a> <a class="reference internal" href="#term-Stationary"><span class="xref std std-term">stationary</span></a>
<a class="reference internal" href="#term-Validation-set"><span class="xref std std-term">validation</span></a> data.</p></li>
<li><p><a class="reference internal" href="#term-Sample-model-input"><span class="xref std std-term">Sample</span></a> outputs thoroughly were thoroughly
verified via manual inspection by trained analysts.</p></li>
</ul>
</dd>
<dt class="field-even">mobile_effunet6x2-1_lc32_v1.0</dt>
<dd class="field-even"><ul class="simple">
<li><p>Trained on <a class="reference internal" href="#term-Downfacing"><span class="xref std std-term">downfacing</span></a> <a class="reference internal" href="#term-Mobile"><span class="xref std std-term">mobile</span></a> data only.</p></li>
</ul>
</dd>
</dl>
</div>
</div>
<div class="section" id="issues">
<h2>Issues<a class="headerlink" href="#issues" title="Permalink to this headline">#</a></h2>
<div class="section" id="known-issues">
<h3>Known issues<a class="headerlink" href="#known-issues" title="Permalink to this headline">#</a></h3>
<p>There is a memory leak somewhere in <a class="reference internal" href="programs/inference.html#echofilter-cli"><span class="std std-ref">echofilter</span></a>.
Consequently, its memory usage will slowly rise while it is in use.
When processing a very large number of files, you may eventually run out
of memory. In this case, you must close the Command Window (to release
the memory). You can then restart <a class="reference internal" href="programs/inference.html#echofilter-cli"><span class="std std-ref">echofilter</span></a>
from where it was up to, or run the same command with the <code class="docutils literal notranslate"><span class="pre">--skip</span></code>
argument, to process the rest of the files.</p>
</div>
<div class="section" id="troubleshooting">
<h3>Troubleshooting<a class="headerlink" href="#troubleshooting" title="Permalink to this headline">#</a></h3>
<ul class="simple">
<li><p>If you run out of memory after processing a single file, consider
closing other programs to free up some memory. If this does not help,
report the issue.</p></li>
<li><p>If you run out of memory when part way through processing a large
number of files, restart the process by running the same command with
the <code class="docutils literal notranslate"><span class="pre">--skip</span></code> argument. See the known issues section above.</p></li>
<li><p>If you have a problem using a <a class="reference internal" href="#term-Checkpoint"><span class="xref std std-term">checkpoint</span></a> for the first time:</p>
<ul>
<li><p>check your internet connection</p></li>
<li><p>check that you have at least 100MB of hard-drive space available
to download the new checkpoint</p></li>
<li><p>if you have an error saying the checkpoint was not recognised,
check the spelling of the checkpoint name.</p></li>
</ul>
</li>
<li><p>If you receive error messages about writing or loading
<a class="reference internal" href="#term-CSV"><span class="xref std std-term">CSV files</span></a> automatically generated from
<a class="reference internal" href="#term-EV-file"><span class="xref std std-term">EV files</span></a>, check that sufficient hard-drive space is
available.</p></li>
<li><p>If you experience problems with operations which occur inside
<a class="reference internal" href="#term-Echoview"><span class="xref std std-term">Echoview</span></a>, please re-run the code but manually open Echoview
before running <a class="reference internal" href="programs/inference.html#echofilter-cli"><span class="std std-ref">echofilter</span></a>. This will leave the
Echoview window open and you will be able to read the error message
within Echoview.</p></li>
</ul>
</div>
<div class="section" id="reporting-an-issue">
<h3>Reporting an issue<a class="headerlink" href="#reporting-an-issue" title="Permalink to this headline">#</a></h3>
<p>If you experience a problem with <a class="reference internal" href="#term-Echofilter"><span class="xref std std-term">echofilter</span></a>, please report it by
<a class="reference external" href="https://github.com/DeepSenseCA/echofilter/issues/new">creating a new issue on our repository</a>
if possible, or otherwise by emailing <a class="reference external" href="mailto:scottclowe&#37;&#52;&#48;gmail&#46;com">scottclowe<span>&#64;</span>gmail<span>&#46;</span>com</a>.</p>
<p>Please include:</p>
<ul class="simple">
<li><p>Which version of echofilter which you are using. This is found by running
the command <code class="docutils literal notranslate"><span class="pre">echofilter</span> <span class="pre">--version</span></code>.</p></li>
<li><p>The operating system you are using.
On Windows 10, system information information can be found by going to
<cite>Start &gt; Settings &gt; System &gt; About</cite>.
Instructions for other Windows versions can be
<a class="reference external" href="https://support.microsoft.com/help/13443/windows-which-version-am-i-running">found here</a>.</p></li>
<li><p>If you are using Echoview integration, your Echoview version number
(which can be found by going to <cite>Help &gt; About</cite> in Echoview), and
whether you have and are using an Echoview HASP USB dongle.</p></li>
<li><p>What you expected to happen.</p></li>
<li><p>What actually happened.</p></li>
<li><p>All steps/details necessary to reproduce the issue.</p></li>
<li><p>Any error messages which were produced.</p></li>
</ul>
</div>
</div>
</div>


              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="../index.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Echofilter documentation</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="programs/programs.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">CLI Reference</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By Scott C. Lowe<br/>
  
      &copy; Copyright 2022, Scott C. Lowe.<br/>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>